<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tuscany Day Trip</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    img {
      max-width: 100%;
      height: auto;
    }
    .no-js .js-required {
      display: none;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .panel-content {
      display: none;
    }
    .panel-content.active {
      display: block;
    }
    .timeline-item {
      position: relative;
      padding-left: 2.5rem;
      margin-bottom: 1.5rem;
    }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: 0.75rem;
      top: 0;
      bottom: 0;
      width: 4px;
      background: #3b82f6;
    }
    .timeline-dot {
      position: absolute;
      left: 0.5rem;
      top: 0.25rem;
      width: 16px;
      height: 16px;
      background: #3b82f6;
      border-radius: 50%;
    }
    .landing-bg {
      background-image: url('https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg?auto=compress&cs=tinysrgb&w=1600');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      /* Fallback base64 gray */
      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8DwHwAEhQGAdeS9bAAAAABJRU5ErkJggg==');
      position: relative;
    }
    .landing-bg img.fallback {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background-color: #1f2937;
      padding: 0.75rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #landing-page.active ~ .nav-bar {
      display: none;
    }
    .nav-bar button {
      background-color: #3b82f6;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
    }
    .nav-bar button:hover {
      background-color: #2563eb;
    }
    .nav-bar select {
      background-color: #3b82f6;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      outline: none;
      width: 150px;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <!-- Navigation Bar -->
  <div class="nav-bar">
    <button id="home-btn">Home</button>
    <select id="nav-dropdown">
      <option value="itineraries">Itineraries</option>
      <option value="map">Map</option>
      <option value="messenger">Messenger</option>
    </select>
  </div>

  <!-- Landing Page -->
  <div id="landing-page" class="tab-content active landing-bg">
    <img 
      src="https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg?auto=compress&cs=tinysrgb&w=1600" 
      alt="Tuscany Landscape Fallback" 
      class="fallback"
      onerror="this.src='https://via.placeholder.com/800x600?text=Tuscany+Image+Failed'"
    >
    <h1 class="text-4xl font-bold mb-4 text-center">Tuscany Day Trip Adventure</h1>
    <div id="countdown" class="text-2xl text-center">
      <span id="days">0</span> Days <span id="hours">0</span> Hours <span id="minutes">0</span> Minutes <span id="seconds">0</span> Seconds
    </div>
  </div>

  <!-- Main Content -->
  <div id="main-content" class="max-w-4xl mx-auto p-4 pt-20">
    <!-- Itineraries Tab -->
    <div id="itineraries-content" class="tab-content">
      <header class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800">One-Day Chianti Road Trip Itinerary</h1>
        <p class="text-gray-600 mt-2">From Il Cortile Pratolino to Chianti’s Heart</p>
      </header>

      <!-- Expanding Panels -->
      <div class="space-y-4">
        <div class="bg-white rounded-lg shadow-md">
          <button id="overview-panel-btn" class="w-full text-left p-4 text-lg font-semibold text-gray-800 bg-gray-50 hover:bg-gray-100 focus:outline-none">Itinerary Overview</button>
          <div id="overview-panel" class="panel-content p-4">
            <p class="text-gray-700"><strong>Start:</strong> Il Cortile Pratolino, near Montegonzi (9:30 AM)</p>
            <p class="text-gray-700"><strong>Destinations:</strong> Greve in Chianti, Montefioralle, Lamole, Panzano, Castellina in Chianti, Montegonzi</p>
            <p class="text-gray-700"><strong>End:</strong> Montegonzi (by 5:00 PM)</p>
            <p class="text-gray-700"><strong>Total Driving Distance:</strong> ~60 km</p>
            <p class="text-gray-700"><strong>Total Driving Time:</strong> ~1 hour 45 minutes</p>
            <p class="text-gray-700"><strong>Total Time:</strong> 7 hours 30 minutes (including activities and lunch)</p>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md">
          <button id="itinerary-panel-btn" class="w-full text-left p-4 text-lg font-semibold text-gray-800 bg-gray-50 hover:bg-gray-100 focus:outline-none">Detailed Itinerary</button>
          <div id="itinerary-panel" class="panel-content p-4">
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">9:30 AM – Depart to Greve in Chianti</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 15 km, ~20 minutes. From Il Cortile Pratolino, head south on local roads toward SP94. Turn right onto SP94, then left onto SR222 (Via Chiantigiana) toward Greve in Chianti. Follow SR222 for ~15 km. Park near Piazza Matteotti (try via Cesare Battisti for the large parking lot on via Rosa Libri).</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> The drive along SR222 offers rolling hills, vineyards, and cypress trees. Look for photo opportunities at vineyard viewpoints.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">9:50 AM – 10:50 AM: Greve in Chianti (1 hour)</h3>
              <p class="text-gray-700"><strong>Activities:</strong> Stroll Piazza Matteotti, the arcaded main square, with shops selling local wines, olive oil, and crafts. Admire the statue of explorer Giovanni da Verrazzano. Visit Antica Macelleria Falorni, a historic butcher shop since 1729, for a quick tasting of Tuscan cold cuts or to buy specialties. Pop into an enoteca like Enoteca Falorni for a quick Chianti Classico tasting (5-10 minutes, no reservation needed).</p>
              <p class="text-gray-700"><strong>Tips:</strong> Greve is Chianti’s commercial hub, so it’s lively but parking is straightforward outside the ZTL (Limited Traffic Zone). Avoid driving into the historic center.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">10:50 AM – Drive to Montefioralle</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 2 km, ~5 minutes. From Piazza Matteotti, take Via Roma west, following signs for Montefioralle. The road climbs uphill for ~2 km to the village. Park just outside the walls at Piazza Santo Stefano.</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> The short, winding road offers views of vineyards and the Greve valley.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">11:00 AM – 11:45 AM: Montefioralle (45 minutes)</h3>
              <p class="text-gray-700"><strong>Activities:</strong> Wander the narrow, cobbled streets of this tiny, fortified borgo, one of Italy’s most beautiful villages. See the Church of Santo Stefano and the house of Amerigo Vespucci (marked by a wasp coat of arms). Stop at Montefioralle Winery for a quick Chianti Classico or Vin Santo tasting (10 minutes, call ahead if possible: +39 055 853 189). Capture panoramic views of the surrounding vineyards and stone houses adorned with flowers.</p>
              <p class="text-gray-700"><strong>Tips:</strong> Montefioralle is compact, so 45 minutes is enough to explore. Avoid parking inside the village to save time.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">11:45 AM – Drive to Lamole</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 8 km, ~15 minutes. Return to Greve via the same road, then from Greve, follow SR222 south for ~1 km. Turn left onto Via Lamole (SP119), a narrow, winding road, and continue for ~7 km to Lamole. Park near Ristoro di Lamole (Via di Lamole, 6).</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> The road to Lamole is steep and curvy but stunning, with breathtaking views of Chianti Classico vineyards. Drive cautiously due to tight turns.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">12:15 PM – 1:45 PM: Lunch at Ristoro di Lamole (1 hour 30 minutes)</h3>
              <p class="text-gray-700"><strong>Activity:</strong> Enjoy lunch at Ristoro di Lamole, a trattoria with a panoramic terrace overlooking vineyards. Try seasonal pastas like tagliolini with truffles or Florentine steak. Pair with a glass of Chianti Classico. Reservations are recommended (+39 055 854 7050).</p>
              <p class="text-gray-700"><strong>Tips:</strong> The terrace is a highlight, so request an outdoor seat if weather permits. Keep lunch to 90 minutes to stay on schedule.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">1:45 PM – Drive to Panzano</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 6 km, ~10 minutes. Return down Via Lamole to SR222, turn left, and head south for ~6 km to Panzano. Park near the main square or Panzano Alto (upper village).</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> The SR222 stretch is very panoramic, with photo stops possible at vineyard pullouts.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">2:00 PM – 3:00 PM: Panzano (1 hour)</h3>
              <p class="text-gray-700"><strong>Activities:</strong> Visit Antica Macelleria Cecchini, Dario Cecchini’s famous butcher shop, for a quick tasting of Tuscan meats or to see his Dante-quoting showmanship (no reservation needed for the shop). Walk to Panzano Alto to see the Castle of Panzano’s remains and the Church of Santa Maria (rebuilt in the 19th century). Enjoy views from the small square. If time allows, take a 2-minute drive south to Pieve di San Leolino, a 10th-century Romanesque church with sacred artworks (5-minute visit).</p>
              <p class="text-gray-700"><strong>Tips:</strong> Panzano is small but charming. Focus on the butcher shop and a quick walk to stay on schedule.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">3:00 PM – Drive to Castellina in Chianti</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 15 km, ~20 minutes. Continue south on SR222 for ~15 km to Castellina in Chianti. Park near the main square or along Via IV Novembre.</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> This stretch of SR222 has tight curves but offers panoramic views of hills and vineyards.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">3:20 PM – 4:20 PM: Castellina in Chianti (1 hour)</h3>
              <p class="text-gray-700"><strong>Activities:</strong> Walk Via delle Volte, a romantic, medieval stone-vaulted passageway with shops and enotecas (10-minute stroll with valley views). Visit the main square’s Rocca Fortress, now home to the Archaeological Museum of Chianti Senese, and climb the tower for panoramic views (15 minutes, €5 entry). Grab a quick gelato at Gelateria Castellina with unique flavors like ricotta and fig or cantuccini and Vin Santo (5 minutes).</p>
              <p class="text-gray-700"><strong>Tips:</strong> Castellina is compact, so prioritize Via delle Volte and the fortress. Avoid lingering in shops to stay on time.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">4:20 PM – Drive to Montegonzi</h3>
              <p class="text-gray-700"><strong>Drive:</strong> 14 km, ~20 minutes. From Castellina, take SR222 north for ~5 km, then turn right onto SP99 toward Montegonzi. Follow SP99 for ~4 km to Montegonzi, then local roads to Il Cortile Pratolino.</p>
              <p class="text-gray-700"><strong>Scenic Notes:</strong> The route back passes through the Greve valley, with woodland paths and vineyard views.</p>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <h3 class="text-lg font-semibold text-gray-800">4:40 PM – Arrive in Montegonzi (by 5:00 PM)</h3>
              <p class="text-gray-700"><strong>Activity:</strong> Relax at Il Cortile Pratolino. If time permits, take a short walk in Montegonzi, a medieval settlement with historic stone buildings and valley views.</p>
              <p class="text-gray-700"><strong>Tips:</strong> Montegonzi is small, so no major activities are planned to ensure the itinerary ends by 5:00 PM.</p>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md">
          <button id="time-panel-btn" class="w-full text-left p-4 text-lg font-semibold text-gray-800 bg-gray-50 hover:bg-gray-100 focus:outline-none">Time Breakdown</button>
          <div id="time-panel" class="panel-content p-4">
            <ul class="list-disc list-inside text-gray-700">
              <li>Driving: 1 hour 45 minutes</li>
              <li>Greve in Chianti: 1 hour</li>
              <li>Montefioralle: 45 minutes</li>
              <li>Lamole (Lunch): 1 hour 30 minutes</li>
              <li>Panzano: 1 hour</li>
              <li>Castellina in Chianti: 1 hour</li>
              <li>Buffer: 30 minutes (for traffic, photo stops, or delays)</li>
              <li><strong>Total:</strong> 7 hours 30 minutes (9:30 AM – 5:00 PM)</li>
            </ul>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-md">
          <button id="tips-panel-btn" class="w-full text-left p-4 text-lg font-semibold text-gray-800 bg-gray-50 hover:bg-gray-100 focus:outline-none">Additional Tips</button>
          <div id="tips-panel" class="panel-content p-4">
            <ul class="list-disc list-inside text-gray-700">
              <li><strong>Driving:</strong> The SR222 and side roads are curvy; drive cautiously, especially on the narrow road to Lamole. A compact car is ideal.</li>
              <li><strong>Parking:</strong> Most towns have parking outside the ZTL zones. Greve and Castellina have larger lots; Montefioralle and Panzano have limited spaces.</li>
              <li><strong>What to Bring:</strong> Comfortable shoes for walking, a camera for scenic views, and cash for small shops or parking (some lots are coin-operated).</li>
              <li><strong>Reservations:</strong> Book Ristoro di Lamole in advance (+39 055 854 7050). For wine tastings, Montefioralle Winery may accept walk-ins, but calling ahead is safer (+39 055 853 189).</li>
              <li><strong>Seasonal Notes:</strong> In May, expect pleasant weather and blooming landscapes. Check for festivals like I Vini del Castello in Montefioralle (3rd weekend of May), which may affect parking.</li>
              <li><strong>Fuel:</strong> Fill up in Greve (Coop supermarket area on SR222 has gas stations) if needed.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Attendance Section -->
      <section class="my-8">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Attendance</h2>
        <div class="bg-white p-6 rounded-lg shadow-md">
          <div class="mb-4">
            <label for="name" class="block text-gray-700 font-medium mb-2">Your Name</label>
            <input type="text" id="name" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your name">
          </div>
          <div class="mb-4">
            <p class="text-gray-700 font-medium mb-2">Will you attend?</p>
            <div class="flex space-x-4">
              <label class="flex items-center">
                <input type="radio" name="attending" value="yes" class="mr-2">
                Yes
              </label>
              <label class="flex items-center">
                <input type="radio" name="attending" value="no" class="mr-2">
                No
              </label>
            </div>
          </div>
          <button id="submit-btn" class="w-full bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>Submit</button>
        </div>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Attendees</h2>
        <ul id="attendees-list" class="bg-white p-4 rounded-lg shadow-md">
          <li class="text-gray-600">No attendees yet.</li>
        </ul>
      </section>

      <!-- Greve in Chianti Gallery -->
      <section class="my-8">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Greve in Chianti Gallery</h2>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div>
            <img 
              src="https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Piazza Matteotti in Greve" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Piazza Matteotti in Greve</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/135018/pexels-photo-135018.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Greve’s historic streets" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Greve’s historic streets</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/156321/pexels-photo-156321.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Vineyards near Greve" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Vineyards near Greve</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/747418/pexels-photo-747418.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Tuscan countryside near Greve" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Tuscan countryside near Greve</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/5409751/pexels-photo-5409751.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Greve valley landscape" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Greve valley landscape</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/2086030/pexels-photo-2086030.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Chianti vineyards near Greve" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Chianti vineyards near Greve</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/1269968/pexels-photo-1269968.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Greve’s rolling hills" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Greve’s rolling hills</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/20832069/pexels-photo-20832069.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Historic Greve village" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Historic Greve village</p>
          </div>
          <div>
            <img 
              src="https://images.pexels.com/photos/46148/pexels-photo-46148.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Tuscan stone buildings in Greve" 
              class="w-full h-48 object-cover rounded-lg shadow-md"
              onerror="this.src='https://via.placeholder.com/800x600?text=Greve+Image+Failed'"
            >
            <p class="text-sm text-gray-600 mt-2 text-center">Tuscan stone buildings in Greve</p>
          </div>
        </div>
      </section>
    </div>

    <!-- Map Tab -->
    <div id="map-content" class="tab-content">
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">Driving Directions from Florence to Il Cortile Pratolino</h2>
      <p class="text-gray-700 mb-4">
        Below is a map showing the driving route from Florence (Piazza della Signoria) to Il Cortile Pratolino, approximately 14 km (25 minutes) via SR65 and local roads.
      </p>
      <iframe 
        class="w-full h-96 rounded-lg shadow-md" 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2877.843483974592!2d11.252497315509693!3d43.78035097911706!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132a56a680d2d6ad%3A0x93d57903d7db7b79!2sPiazza%20della%20Signoria%2C%2050122%20Firenze%20FI%2C%20Italy!5e0!3m2!1sen!2sus!4v1697584321098!5m2!1sen!2sus&destination=Il+Cortile+Pratolino%2C+Via+della+Lastruccia%2C+50036+Pratolino+FI%2C+Italy" 
        allowfullscreen="" 
        loading="lazy"
      ></iframe>
    </div>

    <!-- Messenger Tab -->
    <div id="messenger-content" class="tab-content">
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">Messenger</h2>
      <div class="bg-white p-6 rounded-lg shadow-md mb-4">
        <div class="mb-4">
          <label for="message-name" class="block text-gray-700 font-medium mb-2">Your Name</label>
          <input type="text" id="message-name" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your name">
        </div>
        <div class="mb-4">
          <label for="message" class="block text-gray-700 font-medium mb-2">Message</label>
          <textarea id="message" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your message" rows="4"></textarea>
        </div>
        <button id="message-submit" class="w-full bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>Send</button>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-2">Messages</h3>
      <ul id="message-list" class="bg-white p-4 rounded-lg shadow-md">
        <li class="text-gray-600">No messages yet.</li>
      </ul>
    </div>
  </div>

  <script>
    // Countdown Timer
    document.addEventListener('DOMContentLoaded', () => {
      const tripStart = new Date('2025-06-16T09:30:00+02:00').getTime();
      const updateCountdown = () => {
        const now = new Date().getTime();
        const distance = tripStart - now;
        if (distance < 0) {
          document.getElementById('countdown').innerHTML = 'Trip has started!';
          return;
        }
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
        document.getElementById('seconds').textContent = seconds;
      };
      updateCountdown();
      setInterval(updateCountdown, 1000);

      // Navigation
      const navDropdown = document.getElementById('nav-dropdown');
      const homeBtn = document.getElementById('home-btn');
      const tabContents = document.querySelectorAll('.tab-content');
      const landingPage = document.getElementById('landing-page');
      const mainContent = document.getElementById('main-content');

      function navigateTo(tab) {
        tabContents.forEach(c => c.classList.remove('active'));
        if (tab === 'landing') {
          landingPage.classList.add('active');
          mainContent.classList.add('hidden');
          navDropdown.value = 'itineraries'; // Reset dropdown
        } else {
          landingPage.classList.remove('active');
          mainContent.classList.remove('hidden');
          document.getElementById(`${tab}-content`).classList.add('active');
          navDropdown.value = tab;
        }
      }

      navDropdown.addEventListener('change', () => {
        navigateTo(navDropdown.value);
      });

      homeBtn.addEventListener('click', () => {
        navigateTo('landing');
      });

      // Expanding Panels
      const panelButtons = document.querySelectorAll('[id$="-panel-btn"]');
      panelButtons.forEach(button => {
        button.addEventListener('click', () => {
          const panelId = button.id.replace('-btn', '');
          const panel = document.getElementById(panelId);
          panel.classList.toggle('active');
        });
      });

      // Attendance Form
      const nameInput = document.getElementById('name');
      const radioButtons = document.querySelectorAll('input[name="attending"]');
      const submitBtn = document.getElementById('submit-btn');
      const attendeesList = document.getElementById('attendees-list');

      const loadAttendees = () => {
        const attendees = JSON.parse(localStorage.getItem('attendees') || '[]');
        if (attendees.length > 0) {
          attendeesList.innerHTML = '';
          attendees.forEach(attendee => {
            const li = document.createElement('li');
            li.className = 'text-gray-700';
            li.textContent = `${attendee.name}: ${attendee.attending === 'yes' ? 'Attending' : 'Not Attending'}`;
            attendeesList.appendChild(li);
          });
        } else {
          attendeesList.innerHTML = '<li class="text-gray-600">No attendees yet.</li>';
        }
      };
      loadAttendees();

      function updateSubmitButton() {
        const name = nameInput.value.trim();
        const attending = Array.from(radioButtons).some(radio => radio.checked);
        submitBtn.disabled = !name || !attending;
      }

      nameInput.addEventListener('input', updateSubmitButton);
      radioButtons.forEach(radio => radio.addEventListener('change', updateSubmitButton));

      submitBtn.addEventListener('click', () => {
        const name = nameInput.value.trim();
        const attending = document.querySelector('input[name="attending"]:checked').value;
        if (name && attending) {
          const attendees = JSON.parse(localStorage.getItem('attendees') || '[]');
          attendees.push({ name, attending });
          localStorage.setItem('attendees', JSON.stringify(attendees));
          loadAttendees();
          nameInput.value = '';
          radioButtons.forEach(radio => radio.checked = false);
          submitBtn.disabled = true;
        }
      });

      // Messenger Form
      const messageNameInput = document.getElementById('message-name');
      const messageInput = document.getElementById('message');
      const messageSubmitBtn = document.getElementById('message-submit');
      const messageList = document.getElementById('message-list');

      const loadMessages = () => {
        const messages = JSON.parse(localStorage.getItem('messages') || '[]');
        if (messages.length > 0) {
          messageList.innerHTML = '';
          messages.forEach(msg => {
            const li = document.createElement('li');
            li.className = 'text-gray-700 mb-2';
            li.textContent = `${msg.name} (${new Date(msg.timestamp).toLocaleString()}): ${msg.text}`;
            messageList.appendChild(li);
          });
        } else {
          messageList.innerHTML = '<li class="text-gray-600">No messages yet.</li>';
        }
      };
      loadMessages();

      function updateMessageSubmitButton() {
        const name = messageNameInput.value.trim();
        const message = messageInput.value.trim();
        messageSubmitBtn.disabled = !name || !message;
      }

      messageNameInput.addEventListener('input', updateMessageSubmitButton);
      messageInput.addEventListener('input', updateMessageSubmitButton);

      messageSubmitBtn.addEventListener('click', () => {
        const name = messageNameInput.value.trim();
        const text = messageInput.value.trim();
        if (name && text) {
          const messages = JSON.parse(localStorage.getItem('messages') || '[]');
          messages.push({ name, text, timestamp: new Date().toISOString() });
          localStorage.setItem('messages', JSON.stringify(messages));
          loadMessages();
          messageNameInput.value = '';
          messageInput.value = '';
          messageSubmitBtn.disabled = true;
        }
      });

      console.log('App loaded successfully');
    });
  </script>
</body>
</html>
